<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="pellet.css"/>
		<script src="orbit.js"></script>
	</head>
	<body>
		<script>
const deltaTime = 0.05;
let vh = 0.0015767;
let r = moon.radius;
let vv = 1;
const accel = 3;
console.log({
	vv: vv,
	vh: vh,
	r: r,
	r_s: r - moon.radius
});
let time = 0;
while(time < 10000){
	let v_tot = Math.hypot(vv,vh);
	let aksh = -vv*vh/r + accel*vh/v_tot;
	let aksv = vh*vh/r - moon.gravity(r) + accel*vv/v_tot;
	r += vv*deltaTime;
	vh += aksh*deltaTime;
	vv += aksv*deltaTime;
	if(vv < 0){
		break;
	}
	time += deltaTime;
}
console.log({
	vv: vv,
	vh: vh,
	r: r,
	r_s: r - moon.radius,
	time: time
})
		</script>
	</body>
</html>
